<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>React GSAP Split</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        padding: 60px;
        background: #111;
        color: #fff;
        text-align: center;
      }

      .char {
        display: inline-block;
        opacity: 0;
        transform: translateY(40px);
      }

      .text {
        font-size: 2rem;
        line-height: 2.5rem;
        margin-top: 50vh;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script>
      const { useEffect, useRef } = React;

      function SplitText({ text }) {
        const containerRef = useRef(null);

        useEffect(() => {
          const chars = containerRef.current.querySelectorAll(".char");

          gsap.to(chars, {
            y: 0,
            opacity: 1,
            stagger: 0.05,
            duration: 0.6,
            ease: "power3.out",
            scrollTrigger: {
              trigger: containerRef.current,
              start: "top 80%",
              toggleActions: "play none none none",
            },
          });
        }, [text]);

        const splitChars = text.split("").map((char, i) =>
          React.createElement("span", { key: i, className: "char" }, char)
        );

        return React.createElement(
          "p",
          { className: "text", ref: containerRef },
          splitChars
        );
      }

      function App() {
        return React.createElement("div", null,
          React.createElement("h1", null, "GSAP SplitText (Free Version)"),
          React.createElement(SplitText, { text: "Hyper is unstoppable ðŸ’¥" })
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
